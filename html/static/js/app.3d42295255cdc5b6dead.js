webpackJsonp([1],{"+tb1":function(t,e){},"/I1v":function(t,e){},"1T2g":function(t,e){},"3T1z":function(t,e){},"4bw4":function(t,e){},"4u9j":function(t,e){},"5JdT":function(t,e){},"6uI5":function(t,e){},"9fpO":function(t,e){},AkGq:function(t,e){},CZoE:function(t,e){},EX8p:function(t,e){},"ID+1":function(t,e){},LGaC:function(t,e){},LPP4:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},a,!1,function(t){i("LPP4")},null,null).exports,c=i("/ocq"),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),i("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),i("br"),t._v(" "),i("li",[i("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};i("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},o,!1,function(t){i("W27c")},"data-v-d8ec41bc",null).exports;var r=i("aozt"),l=i.n(r),d={name:"Login",data:function(){return{username:"",password:""}},methods:{login:function(){var t=this.username,e=this.password;if(""!==t)if(""!==e){if(/^[0-9]+.?[0-9]*/.test(t)&&10==t.length){var i={username:t,password:e};l.a.post("http://"+this.BASEURL+"/login",i).then(function(t){console.log(t),!0===t.data.state?(alert("登录成功！将转入个人主页"),this.$setCookie("uid",t.data.data.uid),this.$setCookie("character",t.data.data.character),this.$setCookie("username",t.data.data.username),0===t.data.data.character?this.$router.push({path:"/studentmain"}):1===t.data.data.character&&this.$router.push({path:"/teachermain"})):!1===t.data.state&&alert(t.data.reason)}.bind(this))}else alert("请输入正确的学/工号！")}else alert("请输入密码！");else alert("请输入学/工号！")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"login-form"},[t._m(0),t._v(" "),i("div",{staticClass:"label"},[i("Input",{attrs:{type:"text",name:"username",placeholder:"用户名",size:"large",clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),i("div",{staticClass:"label"},[i("Input",{attrs:{type:"password",name:"password",placeholder:"密码",size:"large",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),i("div",{staticClass:"label"},[i("Button",{attrs:{type:"primary",name:"login-button",long:""},on:{click:function(e){t.login()}}},[t._v("登录")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"label"},[e("p",[this._v("登录学习，发现更大的世界")])])}]};var h=i("VU/8")(d,u,!1,function(t){i("1T2g")},"data-v-71c2630c",null).exports,p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-wrap"},[i("div",{staticClass:"header"},[i("div",{staticClass:"header-label"},["0"===this.character?i("router-link",{attrs:{to:{name:"StudentCourse"}}},[i("p",[t._v("Online Learning")])]):t._e(),t._v(" "),"1"===this.character?i("router-link",{attrs:{to:{name:"TeacherMain"}}},[i("p",[t._v("Online Learning")])]):t._e()],1),t._v(" "),i("div",{staticClass:"userInfo"},[i("div",{staticClass:"avatar"},[i("Avatar",{attrs:{icon:"person",size:"large"}})],1),t._v(" "),i("div",{staticClass:"username"},[i("p",[t._v(t._s(t.username))])]),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),i("div",{staticClass:"float-clear"})])])},staticRenderFns:[]};var v=i("VU/8")({name:"Header",data:function(){return{username:this.$getCookie("username"),character:this.$getCookie("character")}}},p,!1,function(t){i("5JdT")},null,null).exports,m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-left"},[e("Menu",{attrs:{width:"300px",theme:"light","active-name":this.active}},[e("router-link",{attrs:{to:{name:"StudentCourse"}}},[e("MenuItem",{attrs:{name:"StudentCourse"}},[e("Icon",{attrs:{type:"ios-book"}}),this._v("\n        课程\n      ")],1)],1),this._v(" "),e("router-link",{attrs:{to:{name:"StudentPractice"}}},[e("MenuItem",{attrs:{name:"StudentPractice"}},[e("Icon",{attrs:{type:"clipboard"}}),this._v("\n        练习\n      ")],1)],1)],1)],1)},staticRenderFns:[]};var f={name:"StudentMain",data:function(){return{}},mounted:function(){console.log(this.BASEURL),console.log(this.$route)},components:{Header:v,LeftNav:i("VU/8")({name:"LeftNav",data:function(){return{active:""}},mounted:function(){this.active=this.$route.name},watch:{$route:function(t){this.active=t.name}}},m,!1,function(t){i("ytRQ")},null,null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header"),this._v(" "),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("LeftNav"),this._v(" "),e("router-view"),this._v(" "),e("div",{staticClass:"float-clear"})],1)])],1)},staticRenderFns:[]};var y=i("VU/8")(f,_,!1,function(t){i("4bw4")},"data-v-42f9c492",null).exports,g={name:"Practice",data:function(){return{id:"",title:"",relation:"",info:""}},created:function(){console.log(this.$route.params)},mounted:function(){l.a.get("http://"+this.BASEURL+"/practiceBasic?practiceId="+this.$route.params.id).then(function(t){console.log(t),this.id=t.data.practice_id,this.title=t.data.title,this.relation=t.data.relation}.bind(this))},components:{Header:v}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"practice-main"},[i("Header"),t._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{staticClass:"practice-content"},[i("div",{staticClass:"practice-detail-title"},[i("p",[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"practice-detail-relation"},[i("p",[t._v(t._s(t.relation))])]),t._v(" "),i("div",{staticClass:"practice-detail-info"},[i("p",[t._v(t._s(t.info))])]),t._v(" "),i("div",{staticClass:"practice-button-wrap"},[i("router-link",{attrs:{to:{name:"PracticeDetail",params:{id:t.id}}}},[i("Button",{attrs:{type:"primary"}},[t._v("开始练习")])],1),t._v(" "),i("div",{staticClass:"float-clear"})],1)])])],1)},staticRenderFns:[]};var b=i("VU/8")(g,C,!1,function(t){i("WUVE")},"data-v-7cd5699c",null).exports,S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"smallteacherinfo"},[e("div",{staticClass:"smallteacherinfo-avatar"},[e("Avatar",{attrs:{type:"person",size:"small"}})],1),this._v(" "),e("div",{staticClass:"smallteacherinfo-name"},[e("p",[this._v(this._s(this.teachername))])]),this._v(" "),e("div",{staticClass:"float-clear"})])},staticRenderFns:[]};var w=i("VU/8")({name:"SmallTeacherInfo",data:function(){return{teacher:this.teachername}},props:["teachername"]},S,!1,function(t){i("RAMZ")},null,null).exports,x={name:"CourseInfo",data:function(){return{title:this.coursetitle,teacher:this.teachername}},props:["coursetitle","teachername"],components:{SmallTeacherInfo:w}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"courseinfo-main"},[e("div",{staticClass:"courseinfo-title"},[e("p",[this._v(this._s(this.coursetitle))])]),this._v(" "),e("div",{staticClass:"courseinfo-teacherinfo"},[e("SmallTeacherInfo",{attrs:{teachername:this.teachername}})],1)])},staticRenderFns:[]};var E={name:"CourseOutline",data:function(){return{}},props:["coursecontent"],created:function(){console.log(this.$route.params.id)},methods:{parseDuration:function(t){var e=parseInt(t/60),i=t%60;return(e<10?"0"+e.toString():e.toString())+":"+(i<10?"0"+i.toString():i.toString())}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"courseoutline-main"},[i("div",{staticClass:"courseoutline-content"},[t._m(0),t._v(" "),t._l(t.coursecontent,function(e,s){return i("div",{staticClass:"courseoutline-topic"},[i("div",{staticClass:"courseoutline-topic-title"},[i("p",[t._v("第 "+t._s(s+1)+" 课 · "+t._s(e.title))])]),t._v(" "),i("div",{staticClass:"courseoutline-section-list"},t._l(e.sections,function(e,s){return i("div",{staticClass:"courseoutline-section-item"},[i("div",{staticClass:"section-info"},[0===e.process?i("div",{staticClass:"section-number section-number-off"},[i("p",[t._v(t._s(s+1))])]):1===e.process?i("div",{staticClass:"section-number section-number-finish"},[i("p",[t._v(t._s(s+1))])]):i("div",{staticClass:"section-number section-number-learning"},[i("p",[t._v(t._s(s+1))])]),t._v(" "),i("div",{staticClass:"section-title"},[i("p",{},[i("router-link",{attrs:{to:{name:"Section",params:{id:e.section_id}}}},[i("span",[t._v(t._s(e.title))])])],1)]),t._v(" "),"video"===e.entityType?i("div",{staticClass:"section-other video-time-wrap"},[i("p",[t._v(t._s(t.parseDuration(e.entity)))])]):"doc"===e.entityType?i("div",{staticClass:"section-other video-time-wrap"},[i("p",[t._v("讲义")])]):t._e(),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),i("div",{staticClass:"section-description"},[i("p",[t._v(t._s(e.desc))])])])})),t._v(" "),i("div",{staticStyle:{padding:"10px"}})])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"courseoutline-label"},[e("p",[this._v("课时列表")])])}]};var I={name:"Course",data:function(){return{title:"",teacher:"",content:[]}},mounted:function(){var t=this.$route.params.id;l.a.get("http://"+this.BASEURL+"/courseDetail?courseId="+t+"&studentId="+this.$getCookie("uid")).then(function(t){console.log(t),this.title=t.data.title,this.teacher=t.data.teacher,this.content=t.data.topics}.bind(this))},created:function(){console.log(this.$route.params.id)},components:{Header:v,CourseInfo:i("VU/8")(x,k,!1,function(t){i("EX8p")},null,null).exports,CourseOutline:i("VU/8")(E,T,!1,function(t){i("cLRk")},null,null).exports}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"course-main"},[e("Header"),this._v(" "),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"course-content"},[e("CourseInfo",{attrs:{coursetitle:this.title,teachername:this.teacher}}),this._v(" "),e("CourseOutline",{attrs:{coursecontent:this.content}}),this._v(" "),e("div",{staticClass:"float-clear"})],1)])],1)},staticRenderFns:[]};var L=i("VU/8")(I,$,!1,function(t){i("AkGq")},"data-v-580c8c40",null).exports,B=i("YgQo"),R={name:"CourseOutlineSmall",data:function(){return{sections:[]}},props:["relatedcourse"],mounted:function(){l.a.get("http://"+this.BASEURL+"/sectionList?courseId="+this.relatedcourse+"&userId="+this.$getCookie("uid")).then(function(t){console.log(t);for(var e=0;e<t.length;e++)0===t.data[e].entity.type?t.data[e].entity.type="video":1===t.data[e].entity.type&&(t.data[e].entity.type="doc");this.sections=t.data}.bind(this))},methods:{parseDuration:function(t){var e=parseInt(t/60),i=t%60;return(e<10?"0"+e.toString():e.toString())+":"+(i<10?"0"+i.toString():i.toString())}}},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"courseoutlinesmall-list"},t._l(t.sections,function(e,s){return i("div",{staticClass:"courseoutlinesmall-item courseoutlinesmall-item-mid"},[i("div",{staticClass:"courseoutlinesmall-item-section-info"},[0===e.status?i("div",{staticClass:"courseoutlinesmall-item-section-number section-number-off"},[i("p",[t._v(t._s(s+1))])]):1===e.status?i("div",{staticClass:"courseoutlinesmall-item-section-number section-number-finish"},[i("p",[t._v(t._s(s+1))])]):i("div",{staticClass:"courseoutlinesmall-item-section-number section-number-learning"},[i("p",[t._v(t._s(s+1))])]),t._v(" "),i("div",{staticClass:"courseoutlinesmall-item-section-title"},[i("p",[i("router-link",{attrs:{to:{name:"Section",params:{id:e.id}}}},[t._v(t._s(e.title))])],1)]),t._v(" "),"video"===e.entity.type?i("div",{staticClass:"courseoutlinesmall-item-section-other"},[i("p",[t._v(t._s(t.parseDuration(e.entity.length)))])]):"doc"===e.entity.type?i("div",{staticClass:"courseoutlinesmall-item-section-other"},[i("p",[t._v(t._s(t.讲义))])]):t._e(),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),i("div",{staticClass:"courseoutlinesmall-item-section-description"},[i("div",{staticClass:"courseoutlinesmall-item-section-description-wrap"},[i("p",[t._v(t._s(e.desc))])])])])}))},staticRenderFns:[]};var P={name:"VideoPlayer",data:function(){return{}},props:["videoid","videourl","relatedcourse"],created:function(){console.log(this.videoid),console.log(this.relatedcourse)},mounted:function(){var t=document.getElementById("videoElement"),e={type:"mp4",url:this.videourl};if(console.log("videoelement: "+t),B.a.isSupported()){console.log("here!");var i=B.a.createPlayer(e);i.attachMediaElement(t),i.load()}},components:{CourseOutlineSmall:i("VU/8")(R,U,!1,function(t){i("pLFs")},null,null).exports}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"videoplayer-main"},[this._m(0),this._v(" "),e("div",{staticClass:"video-control-pad"},[this._m(1),this._v(" "),e("div",{staticClass:"control-section-list-wrap"},[e("CourseOutlineSmall",{attrs:{relatedcourse:this.relatedcourse}})],1)]),this._v(" "),e("div",{staticClass:"float-clear"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-player"},[e("video",{attrs:{id:"videoElement",width:"720",height:"540",controls:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-title-label"},[e("p",[this._v("课程目录")])])}]};var V=i("VU/8")(P,A,!1,function(t){i("W178")},null,null).exports,z=i("L7Pj"),D=i.n(z),F=i("2i8l"),N=i.n(F),O={name:"DocReader",data:function(){return{html:this.content}},props:["docid","content","courseid"],methods:{goAnchor:function(t){var e=this.$el.querySelector(t);document.body.scrollTop=e.offsetTop}},mounted:function(){console.log(D.a),console.log(N.a),console.log(this.html),console.log(N.a.unescape(N.a.unescape(this.html))),this.html=N.a.unescape(N.a.unescape(this.html)),D()("#markdown-container").html(this.html),D()("#markdown-container").find("h2,h3").each(function(t,e){var i="header-"+t;D()(this).attr("id",i);var s=D()(this)[0].tagName.toLowerCase(),a=D()(this).text(),n=(window.location.href,"<a href='#"+i+"' @click='goAnchor(\"#"+i+"\")'><"+s+">"+a+"</"+s+"></a>");D()("#markdown-doc-content").append(D()(n))})}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"doc-reader",staticStyle:{"margin-top":"62px"}},[e("div",{staticClass:"doc-contents",attrs:{id:"markdown-doc-content"}}),this._v(" "),e("div",{staticClass:"return-wrap",staticStyle:{width:"865px",float:"right","background-color":"#fff"}},[e("p",{staticStyle:{"text-align":"left","padding-left":"25px","padding-top":"15px","font-size":"1.2em","white-space":"pre-wrap"}},[e("router-link",{attrs:{to:{path:"/course/"+this.courseid}}},[e("span",[e("Icon",{attrs:{type:"chevron-left"}}),this._v("  返回课程列表")],1)])],1)]),this._v(" "),e("div",{staticClass:"markdown-body",attrs:{id:"markdown-container"}}),this._v(" "),e("div",{staticClass:"float-clear"})])},staticRenderFns:[]};var H={name:"Section",data:function(){return{id:"",relatedCourse:"",relatedTopic:"",entity:{id:"",type:"",url:"",content:""},status:0}},created:function(){console.log(this.$route.params.id)},mounted:function(){l.a.get("http://"+this.BASEURL+"/sectionDetail?sectionId="+this.$route.params.id+"&uid="+this.$getCookie("uid")).then(function(t){console.log(t),this.id=this.$route.params.id,this.relatedCourse=t.data.relatedCourse,this.relatedTopic=t.data.relatedTopic,this.entity.id=t.data.entity.id,0===t.data.entity.type?(this.entity.type="video",this.entity.url=t.data.entity.url):1===t.data.entity.type&&(this.entity.type="doc",this.entity.url=t.data.entity.url,this.entity.content=t.data.entity.content),this.status=t.data.status}.bind(this))},beforeDestroy:function(){var t={sectionId:this.id,courseId:this.relatedCourse,uid:this.$getCookie("uid")};l.a.post("http://"+this.BASEURL+"/updateSectionProcess",t).then(function(t){alert(t)})},components:{Header:v,VideoPlayer:V,DocReader:i("VU/8")(O,M,!1,function(t){i("6uI5")},null,null).exports},watch:{$route:function(){window.location.reload()}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-main"},["doc"===t.entity.type?i("Header",{staticStyle:{position:"fixed","z-index":"100"}}):i("Header"),t._v(" "),i("div",{staticClass:"content-wrap"},[i("div",{staticClass:"section-content"},["video"===t.entity.type?i("div",{staticClass:"videoplayer-wrap"},[i("VideoPlayer",{attrs:{videoid:t.entity.id,videourl:t.entity.url,relatedcourse:t.relatedCourse}})],1):t._e(),t._v(" "),"doc"===t.entity.type?i("div",{staticClass:"doc-wrap"},[i("DocReader",{attrs:{docid:t.entity.id,content:t.entity.content,courseid:t.relatedCourse}})],1):t._e()])])],1)},staticRenderFns:[]};var W=i("VU/8")(H,j,!1,function(t){i("9fpO")},"data-v-8f308aca",null).exports,q={name:"Choice",data:function(){return{}},props:["choiceid","choiceclass","ch","status"],methods:{onSelected:function(t){if(0===this.status||1===this.status){var e=t.path[1].attributes.id.value,i=document.getElementById(e);-1!=i.attributes.class.value.indexOf("choice-content-active")?(this.$emit("choiceselected",{status:1,choiceid:e,val:this.ch}),i.className="choice-content"):this.$emit("choiceselected",{status:0,choiceid:e,val:this.ch})}else if(2===this.status)return}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"choice-wrap"},[2===t.status?i("div",{class:t.choiceclass,staticStyle:{cursor:"auto"},attrs:{id:t.choiceid},on:{click:function(e){t.onSelected(e)}}},[i("p",[t._v(t._s(t.ch))])]):i("div",{class:t.choiceclass,attrs:{id:t.choiceid},on:{click:function(e){t.onSelected(e)}}},[i("p",[t._v(t._s(t.ch))])])])},staticRenderFns:[]};var Z={name:"Problem",props:["p","problemid"],data:function(){return{selectedValue:""}},components:{Choice:i("VU/8")(q,G,!1,function(t){i("VkxS")},null,null).exports},methods:{listenToSelected:function(t){if(1===t.status)e=t.choiceid,this.selectedValue="";else{var e=t.choiceid;this.selectedValue=t.val;for(var i=document.getElementById("p"+this.problemid).children[1].children,s=i.length,a=0;a<s;a++)i[a].children[0].id===e?i[a].children[0].className="choice-content choice-content-active":i[a].children[0].className="choice-content"}}},mounted:function(){1===this.p.status&&(this.selectedValue=this.p.choices[this.p.draft],document.getElementById("p"+this.problemid+"ch"+this.p.draft).className="choice-content choice-content-active",console.log(this.selectedValue))},watch:{selectedValue:function(t){""===t?this.$emit("remove",{index:this.problemid}):(console.log("problem emit",this.selectedValue),this.$emit("choose",{index:this.problemid,val:this.selectedValue}))}}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"problem-wrap"},[i("div",{staticClass:"problem-content"},[i("p",[t._v(t._s(t.p.content))])]),t._v(" "),i("div",{staticClass:"problem-choices-wrap"},[t._l(t.p.choices,function(e,s){return[0===t.p.status||1===t.p.status?i("Choice",{attrs:{choiceid:"p"+t.problemid+"ch"+s,ch:e,choiceclass:"choice-content",status:t.p.status},on:{choiceselected:t.listenToSelected}}):2===t.p.status&&t.p.correctAnswer===s?i("Choice",{attrs:{choiceid:"p"+t.problemid+"ch"+s,ch:e,choiceclass:"choice-content choice-content-correct",status:t.p.status},on:{choiceselected:t.listenToSelected}}):2===t.p.status&&t.p.draft===s?i("Choice",{attrs:{choiceid:"p"+t.problemid+"ch"+s,ch:e,choiceclass:"choice-content choice-content-false",status:t.p.status},on:{choiceselected:t.listenToSelected}}):i("Choice",{attrs:{choiceid:"p"+t.problemid+"ch"+s,ch:e,choiceclass:"choice-content",status:t.p.status},on:{choiceselected:t.listenToSelected}})]})],2)])},staticRenderFns:[]};var Y={name:"ProblemCard",data:function(){return{handleCreate:[]}},props:["problemcount","curproblem"],methods:{pSelected:function(t){var e,i,s=t.path[1].attributes.id.value,a=document.getElementById(s),n=a.attributes.class.value;if(console.log(s,a,n),-1==n.indexOf("problemcard-cur")){var c=D()("#practicecard").children();console.log(c);for(var o=0;o<c.length;o++)c[o].id===s?(D()("#"+s).addClass("problemcard-cur"),i=o):-1!=c[o].className.indexOf("problemcard-cur")&&(D()("#"+c[o].id).removeClass("problemcard-cur"),e=o);this.$emit("change",{next:i}),e="p"+e,i="p"+i,document.getElementById(e).style.display="none",document.getElementById(i).style.display="block"}},initCard:function(){for(var t=0;t<this.problemcount;t++)this.handleCreate.push(t)}},created:function(){},mounted:function(){console.log(this.problemcount)},watch:{problemcount:function(){this.initCard()}},updated:function(){console.log("update"),document.getElementById("pc0").style.display="block",document.getElementById("pc0").style.cursor="pointer",document.getElementById("pc0").className+=" problemcard-cur",document.getElementById("p0").style.display="block"}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"problemcard-wrap"},[t._m(0),t._v(" "),i("div",{staticClass:"problemcard-nav-wrap",attrs:{id:"practicecard"}},t._l(t.handleCreate,function(e){return i("div",{staticClass:"problemcard-nav",staticStyle:{cursor:"pointer"},attrs:{id:"pc"+e},on:{click:function(e){t.pSelected(e)}}},[i("p",[t._v(t._s(e+1))])])})),t._v(" "),i("div",{staticClass:"float-clear"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"problemcard-title-wrap"},[e("p",[this._v("答题卡")])])}]};var J={name:"PracticeDetail",data:function(){return{practiceId:this.$route.params.id,problems:[],curProblemIndex:0,problemCount:0,submit:0}},components:{Header:v,Problem:i("VU/8")(Z,Q,!1,function(t){i("gyBB")},null,null).exports,ProblemCard:i("VU/8")(Y,X,!1,function(t){i("Rf57")},null,null).exports},methods:{handleRemove:function(t){this.problems[t.index].status=0,this.problems[t.index].draft=""},handleChoose:function(t){this.problems[t.index].status=1,this.problems[t.index].draft=this.problems[t.index].choices.indexOf(t.val),this.problems[t.index].selected=t.val},handleSubmit:function(){console.log(this.problems);for(var t=0;t<this.problems.length;t++)if(0===this.problems[t].status)return void alert("还有空白题目，请返回检查！");var e={uid:this.$getCookie("uid"),practiceId:this.$route.params.id,problems:this.problems};l.a.post("http://"+this.BASEURL+"/markPractice",e).then(function(t){console.log(t),this.problems=t.data,this.submit=2}.bind(this))},handleNext:function(){this.curProblemIndex+=1},handlePrevious:function(){this.curProblemIndex-=1},handleProblemChange:function(t){var e=t.next;this.curProblemIndex=e}},mounted:function(){l.a.get("http://"+this.BASEURL+"/fetchProblems?practiceId="+this.$route.params.id+"&uid="+this.$getCookie("uid")).then(function(t){console.log(t),this.problems=t.data.problemSet,this.problemCount=t.data.problemSet.length,this.submit=t.data.status}.bind(this))},beforeDestroy:function(){if(2!==this.submit){var t={uid:this.$getCookie("uid"),practiceId:this.practiceId,problems:this.problems};console.log(t.practiceId),l.a.post("http://"+this.BASEURL+"/savePracticeDraft",t).then(function(t){t.data.success&&alert("Saved!")})}},watch:{curProblemIndex:function(t){var e="pc"+t,i="p"+t;console.log(e);for(var s=document.getElementById("practicecard").children,a=0;a<s.length;a++)s[a].id===e?(document.getElementById(s[a].id).className="problemcard-nav problemcard-cur",document.getElementById(i).style.display="block"):(document.getElementById(s[a].id).className="problemcard-nav",document.getElementById("p"+a).style.display="none")}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"practicedetail-main"},[i("Header"),t._v(" "),i("div",{staticClass:"practicedetail-content-wrap"},[i("div",{staticClass:"practicecard-wrap"},[i("ProblemCard",{attrs:{problemcount:t.problemCount,curproblem:t.curProblemIndex},on:{change:t.handleProblemChange}})],1),t._v(" "),i("div",{staticClass:"practice-problem-wrap"},t._l(t.problems,function(e,s){return i("Problem",{staticStyle:{display:"none"},attrs:{id:"p"+s,problemid:s,p:e},on:{remove:t.handleRemove,choose:t.handleChoose}})})),t._v(" "),i("div",{staticClass:"problem-op-wrap"},[2!=t.submit?i("div",{staticClass:"problem-button-wrap"},[i("Button",{attrs:{type:"error",size:"large"},on:{click:t.handleSubmit}},[t._v("交卷")])],1):t._e(),t._v(" "),i("div",{staticClass:"problem-button-wrap"},[i("router-link",{attrs:{to:{path:"/studentmain/practice"}}},[i("Button",{attrs:{type:"error",size:"large"}},[t._v("返回练习列表")])],1)],1),t._v(" "),t.curProblemIndex+1!=t.problemCount?i("div",{staticClass:"problem-button-wrap"},[i("Button",{attrs:{type:"primary",size:"large"},on:{click:t.handleNext}},[t._v("下一题")])],1):i("div",{staticClass:"problem-button-wrap"},[i("Button",{attrs:{type:"primary",size:"large"},on:{click:t.handlePrevious}},[t._v("上一题")])],1),t._v(" "),i("div",{staticClass:"float-clear"})])])],1)},staticRenderFns:[]};var tt=i("VU/8")(J,K,!1,function(t){i("sEWU")},"data-v-7bacf3e5",null).exports,et={name:"TeacherLeftNav",data:function(){return{open:[],active:""}},mounted:function(){var t=this.$route.name;this.active=t,"TeacherCourseList"===t||"TeacherCourseCreate"===t?(this.$set(this.open,0,"TeacherCourse"),console.log(this.open)):"TeacherPracticeList"!==t&&"TeacherPracticeCreate"!==t||(this.$set(this.open,0,"TeacherPractice"),console.log(this.open))},watch:{$route:function(t){this.active=t.name}}},it={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-left"},[i("Menu",{attrs:{width:"300px",theme:"light","open-names":t.open,"active-name":t.active,accordion:""}},[i("Submenu",{attrs:{name:"TeacherCourse"}},[i("template",{slot:"title"},[i("Icon",{attrs:{type:"ios-book"}}),t._v("\n        课程\n      ")],1),t._v(" "),i("router-link",{attrs:{to:{name:"TeacherCourseList"}}},[i("MenuItem",{attrs:{name:"TeacherCourseList"}},[t._v("课程列表")])],1),t._v(" "),i("router-link",{attrs:{to:{name:"TeacherCourseCreate"}}},[i("MenuItem",{attrs:{name:"TeacherCourseCreate"}},[t._v("新建课程")])],1)],2),t._v(" "),i("Submenu",{attrs:{name:"TeacherPractice"}},[i("template",{slot:"title"},[i("Icon",{attrs:{type:"clipboard"}}),t._v("\n        练习\n      ")],1),t._v(" "),i("router-link",{attrs:{to:{name:"TeacherPracticeList"}}},[i("MenuItem",{attrs:{name:"TeacherPracticeList"}},[t._v("练习列表")])],1),t._v(" "),i("router-link",{attrs:{to:{name:"TeacherPracticeCreate"}}},[i("MenuItem",{attrs:{name:"TeacherPracticeCreate"}},[t._v("新建练习")])],1)],2)],1)],1)},staticRenderFns:[]};var st={name:"TeacherMain",data:function(){return{}},components:{Header:v,TeacherLeftNav:i("VU/8")(et,it,!1,function(t){i("z6gd")},null,null).exports}},at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header"),this._v(" "),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("router-view"),this._v(" "),e("TeacherLeftNav"),this._v(" "),e("div",{staticClass:"float-clear"})],1)])],1)},staticRenderFns:[]};var nt=i("VU/8")(st,at,!1,function(t){i("e2u3")},"data-v-aa778768",null).exports,ct={name:"StudentCourseList",data:function(){return{courses:[]}},methods:{initComp:function(){var t=this.$getCookie("uid");l.a.get("http://"+this.BASEURL+"/studentCourseList?userId="+t).then(function(t){this.courses=t.data.courses}.bind(this))}},components:{SmallTeacherInfo:w},mounted:function(){this.initComp()}},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"student-course-list"},[i("div",{staticStyle:{"padding-top":"15px"}}),t._v(" "),t._l(t.courses,function(e){return i("div",{staticClass:"student-course-item-wrap"},[i("div",{staticClass:"student-course-item"},[i("div",{staticClass:"student-course-item-content"},[i("div",{staticClass:"course-title"},[i("p",[i("router-link",{attrs:{to:{name:"Course",params:{id:e.id}}}},[i("span",[t._v(t._s(e.title))])])],1)]),t._v(" "),i("div",{staticClass:"course-description"},[i("p",[t._v(t._s(e.desc))])]),t._v(" "),i("div",{staticClass:"class-info"},[i("div",{staticClass:"courselist-teacher-info"},[i("SmallTeacherInfo",{attrs:{teachername:e.teacher}})],1),t._v(" "),""!=e.lastProgress.title?i("div",{staticClass:"last-progress"},[i("p",[t._v("上次学到   "),i("router-link",{attrs:{to:{name:"Section",params:{id:e.lastProgress.id}}}},[i("span",{staticClass:"last-progress-section"},[t._v(t._s(e.lastProgress.title))])])],1)]):i("div",{staticClass:"last-progress"},[i("p",{staticStyle:{color:"#80848f"}},[t._v("还未开始学习")])]),t._v(" "),i("div",{staticClass:"float-clear"})])])]),t._v(" "),t._m(0,!0)])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var rt=i("VU/8")(ct,ot,!1,function(t){i("Sw3q")},null,null).exports,lt={name:"StudentPracticeList",data:function(){return{practices:[]}},mounted:function(){l.a.get("http://"+this.BASEURL+"/studentPracticeList?uid="+this.$getCookie("uid")).then(function(t){for(var e=t.data,i=0;i<e.length;i++)e[i].id=e[i].practice_id,e[i].title=e[i].detail.title,e[i].relation=e[i].detail.relation,e[i].info="";this.practices=e}.bind(this))}},dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-wrap student-practice-list"},[i("div",{staticStyle:{"padding-top":"20px"}}),t._v(" "),t._l(t.practices,function(e){return i("div",{staticClass:"student-practice-item"},[i("div",{staticClass:"student-practice-item-content"},[i("div",{staticClass:"practice-title"},[i("p",[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"practice-relation"},[i("p",[t._v(t._s(e.relation))])]),t._v(" "),i("div",{staticClass:"practice-info"},[i("p",[t._v(t._s(e.info))])])]),t._v(" "),0===e.status||1===e.status?i("div",{staticClass:"practice-status"},[i("router-link",{attrs:{to:{name:"Practice",params:{id:e.id}}}},[i("Button",{attrs:{type:"primary"}},[t._v("去完成")])],1)],1):2===e.status?i("div",{staticClass:"practice-status"},[i("p",{staticStyle:{color:"#19be6b"}},[t._v("已完成")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{path:"/practice/"+e.id+"/detail"}}},[i("span",[t._v("查看结果")])])],1)]):t._e(),t._v(" "),i("div",{staticClass:"float-clear"}),t._v(" "),t._m(0,!0)])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var ut=i("VU/8")(lt,dt,!1,function(t){i("hd5j")},null,null).exports,ht={name:"TeacherCourseList",data:function(){return{courses:[]}},methods:{handleImportStudent:function(){console.log("handle import student")},handleRemove:function(){console.log("handle remove")},initComp:function(){var t=this.$getCookie("uid");l.a.get("http://"+this.BASEURL+"/teacherCourseList?userId="+t).then(function(t){var e=t.data.courses;console.log(e);for(var i=0;i<e.length;i++)e[i].students=e[i].count[3],e[i].info=e[i].count[0]+" Topics / "+e[i].count[1]+" Sections / "+e[i].count[2]+" Practices";this.courses=e}.bind(this))}},mounted:function(){this.initComp()}},pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachercourselist-wrap"},[i("div",{staticClass:"teachercourselist-content"},[i("div",{staticStyle:{padding:"5px 0"}}),t._v(" "),t._l(t.courses,function(e){return i("div",{staticClass:"teachercourselist-item-wrap"},[i("div",{staticClass:"teachercourselist-item"},[i("div",{staticClass:"teachercourselist-course-title"},[i("p",[i("router-link",{attrs:{to:{name:"TeacherCourseEdit",params:{id:e.id}}}},[i("span",[t._v(t._s(e.title))])])],1)]),t._v(" "),i("div",{staticClass:"teachercourselist-course-info"},[i("p",[t._v(t._s(e.info))])]),t._v(" "),i("div",{staticClass:"teachercourselist-course-info"},[i("p",[t._v(t._s(e.students)+" 学生参与课程")])]),t._v(" "),i("div",{staticClass:"teachercourselist-button-group"},[i("router-link",{attrs:{to:{name:"TeacherCourseEdit",params:{id:e.id}}}},[i("Button",{attrs:{type:"primary"}},[t._v("编辑课程")])],1),t._v(" "),i("router-link",{attrs:{to:{name:"ImportStudent",params:{courseid:e.id}}}},[i("Button",{attrs:{type:"primary"},on:{click:t.handleImportStudent}},[t._v("导入学生")])],1)],1),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),t._m(0,!0)])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var vt=i("VU/8")(ht,pt,!1,function(t){i("jZ59")},null,null).exports,mt={name:"TeacherPracticeList",data:function(){return{practiceList:[]}},methods:{initComp:function(){l.a.get("http://"+this.BASEURL+"/teacherPracticeList?uid="+this.$getCookie("uid")).then(function(t){console.log(t),t.data.success&&(this.practiceList=t.data.practiceList)}.bind(this))},handleEdit:function(t){console.log(t.path[3].dataset.pid)},handleDetail:function(t){console.log(t.path[3].dataset.pid)}},mounted:function(){this.initComp()}},ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teacherpracticelist-wrap"},[i("div",{staticClass:"teacherpracticelist-content"},[i("div",{staticClass:"teacherpracticelist-padding-top",staticStyle:{padding:"10px"}}),t._v(" "),t._l(t.practiceList,function(e){return i("div",{staticClass:"teacherpracticelist-item",attrs:{"data-pid":e.id}},[i("div",{staticClass:"teacherpracticelist-item-title"},[i("p",[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"teacherpracticelist-item-relation"},[i("p",[t._v(t._s(e.relation))])]),t._v(" "),i("div",{staticClass:"teacherpracticelist-item-info"},[i("p",[t._v(t._s(e.info))])]),t._v(" "),i("div",{staticClass:"teacherpracticelist-button-wrap"},[i("router-link",{attrs:{to:{path:"/teachermain/practiceEdit/"+e.id}}},[i("Button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.handleEdit(e)}}},[t._v("编辑")])],1),t._v(" "),i("Button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.handleDetail(e)}}},[t._v("答题情况")])],1),t._v(" "),i("div",{staticClass:"float-clear"}),t._v(" "),t._m(0,!0)])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var _t=i("VU/8")(mt,ft,!1,function(t){i("+tb1")},null,null).exports,yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticStyle:{"font-size":"1rem","padding-bottom":"2px"}},[t._v("\n  "+t._s(t.lititle)+"\n  "),i("span",{staticStyle:{color:"#ed3f14",cursor:"pointer"},on:{click:function(e){t.$emit("remove")}}},[t._v("\n       \n    "),i("Icon",{attrs:{type:"minus"}}),t._v("\n     删除\n  ")],1)])},staticRenderFns:[]};var gt={name:"TeacherCourseCreate",data:function(){return{title:"",desc:"",topicList:[],topictitle:""}},methods:{handleCreate:function(){console.log("HandleCreate"),document.getElementById("plus").style.display="none",document.getElementById("minus").style.display="block"},handleCollapse:function(){console.log("HandleCollapse"),document.getElementById("minus").style.display="none",document.getElementById("plus").style.display="block",this.topictitle=""},handleSaveTopic:function(){console.log("HandleSaveTopic"),document.getElementById("minus").style.display="none",document.getElementById("plus").style.display="block",this.topicList.push(this.topictitle),this.topictitle=""}},components:{TopicCreateItem:i("VU/8")({name:"TopicCreateItem",props:["lititle"]},yt,!1,function(t){i("Q9rw")},null,null).exports}},Ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachercoursecreate-wrap"},[i("div",{staticClass:"teachercoursecreate-content"},[i("div",{staticClass:"teachercoursecreate-basic-info-wrap"},[t._m(0),t._v(" "),i("div",{staticClass:"teachercoursecreate-input"},[i("span",[t._v("课程名")]),t._v(" "),i("div",{staticClass:"teachercoursecreate-input-wrap"},[i("Input",{attrs:{size:"large",placeholder:"课程名"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)]),t._v(" "),i("div",{staticClass:"teachercoursecreate-input"},[i("span",[t._v("课程简介")]),t._v(" "),i("div",{staticClass:"teachercoursecreate-input-wrap"},[i("Input",{attrs:{type:"textarea",placeholder:"课程简介",rows:"5"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)]),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"teachercoursecreate-structure-wrap"},[t._m(2),t._v(" "),i("div",{staticClass:"teachercoursecreate-structure-detail",staticStyle:{padding:"0 45px"}},[i("ul",t._l(t.topicList,function(e,s){return i("TopicCreateItem",{tag:"li",attrs:{lititle:e},on:{remove:function(e){t.topicList.splice(s,1)}}})}))]),t._v(" "),i("div",{staticClass:"teachercoursecreate-create-wrap"},[i("div",{staticClass:"teachercoursecreate-plus",attrs:{id:"plus"}},[i("span",{on:{click:t.handleCreate}},[i("Icon",{attrs:{type:"plus",color:"#19be6b"}}),t._v(" 新增")],1)]),t._v(" "),i("div",{staticClass:"teachercoursecreate-topic-create",attrs:{id:"minus"}},[i("div",{staticClass:"teachercoursecreate-minus"},[i("span",{on:{click:t.handleCollapse}},[i("Icon",{attrs:{type:"minus",color:"#2d8cf0"}}),t._v(" 收起")],1)]),t._v(" "),i("div",{staticClass:"teachercoursecreate-input"},[i("span",[t._v("章节主题")]),t._v(" "),i("div",{staticClass:"teachercoursecreate-input-wrap"},[i("Input",{attrs:{size:"large",placeholder:"章节主题"},model:{value:t.topictitle,callback:function(e){t.topictitle=e},expression:"topictitle"}})],1)]),t._v(" "),i("div",{staticClass:"teachercoursecreate-button-wrap",staticStyle:{clear:"both",float:"left","padding-left":"25px"}},[i("Button",{attrs:{type:"success"},on:{click:t.handleSaveTopic}},[t._v("保存此章节")])],1),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),i("div",{staticClass:"float-clear"})])]),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"teachercoursecreate-button-wrap",staticStyle:{float:"right",padding:"10px 10px 0 0"}},[i("Button",{attrs:{type:"success"}},[t._v("保存此课程")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"teachercoursecreate-label"},[e("p",[this._v("课程基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"teachercoursecreate-label"},[e("p",[this._v("课程基本结构")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};i("VU/8")(gt,Ct,!1,function(t){i("rLvR")},null,null).exports;var bt={name:"TeacherTopicEdit",data:function(){return{courseid:"",topicid:"",type:"",title:"",topicTitle:""}},methods:{handleCancel:function(){this.$router.push({path:"/teachermain/courseEdit/"+this.courseid})},handleSave:function(){if(console.log(this.topicTitle),"create"===this.type){var t={courseId:this.courseid,title:this.topicTitle};l.a.post("http://"+this.BASEURL+"/createTopic",t).then(function(t){"success"===t.data.state&&(alert("保存成功，topicid"+t.data.topic_id),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}else if("edit"===this.type){t={topicId:this.topicid,topicTitle:this.topicTitle};l.a.put("http://"+this.BASEURL+"/editTopic",t).then(function(t){t.data.success&&(alert("保存成功!"),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}},initComp:function(){-1!=this.$route.name.indexOf("TeacherTopicCreate")?(this.courseid=this.$route.params.courseid,this.type="create",l.a.get("http://"+this.BASEURL+"/courseTitle?courseId="+this.courseid).then(function(t){this.title=t.data.title}.bind(this)),this.topicTitle=""):-1!=this.$route.name.indexOf("TeacherTopicEdit")&&(this.courseid=this.$route.params.courseid,this.topicid=this.$route.params.topicid,this.type="edit",l.a.get("http://"+this.BASEURL+"/courseTitle?courseId="+this.courseid).then(function(t){this.title=t.data.title}.bind(this)),l.a.get("http://"+this.BASEURL+"/topicTitle?topicId="+this.topicid).then(function(t){this.topicTitle=t.data.title}.bind(this)))}},mounted:function(){console.log(this.$route),this.initComp()}},St={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachertopicedit-content-wrap"},[i("div",{staticClass:"teachertopicedit-content"},[i("div",{staticClass:"teachertopicedit-title"},["create"===this.type?i("p",{staticStyle:{"padding-top":"10px","font-size":"1.5em","font-weight":"bold"}},[t._v("新增章节")]):"edit"===this.type?i("p",{staticStyle:{"padding-top":"10px","font-size":"1.5em","font-weight":"bold"}},[t._v("编辑章节")]):t._e(),t._v(" "),i("p",{staticStyle:{"padding-top":"5px","font-size":"1.2em",color:"#80848f"}},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"teachertopicedit-detail"},[i("div",{staticClass:"teachertopicedit-input-wrap",staticStyle:{padding:"15px 20px",float:"left"}},[i("span",{staticStyle:{"padding-right":"10px"}},[t._v("主题名")]),t._v(" "),i("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"主题名"},model:{value:t.topicTitle,callback:function(e){t.topicTitle=e},expression:"topicTitle"}})],1),t._v(" "),i("div",{staticClass:"float-clear"})]),t._v(" "),i("div",{staticClass:"button-wrap",staticStyle:{float:"right",padding:"0 20px 20px"}},[i("Button",{attrs:{type:"error"},on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"success"},on:{click:t.handleSave}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"float-clear"})])])},staticRenderFns:[]};var wt=i("VU/8")(bt,St,!1,function(t){i("UuDO")},null,null).exports,xt=new(i("TXMN").a),kt={name:"ChoiceItem",data:function(){return{correctness:!1,value:this.choiceValue}},props:["choiceValue","cid"],methods:{handleInCorrect:function(t){var e=t.path[0];-1!=e.className.indexOf("choice-correct")?(e.innerHTML="<i class='ivu-icon ivu-icon-checkmark'></i>&nbsp设为正确选项",e.className="",e.style.color="#19be6b",this.$emit("cancel")):(e.innerHTML="<i class='ivu-icon ivu-icon-close'></i>&nbsp取消设为正确选项",e.className="choice-correct",e.style.color="#ed3f14",this.$emit("correct"))}},watch:{value:function(t){xt.$emit("SetChoice",{index:this.cid,value:t})}},created:function(){}},Et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teacherpracticecreate-input-wrap"},[i("Input",{attrs:{value:t.choiceValue,size:"large",placeholder:"选项"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),i("span",{staticStyle:{color:"#ed3f14",cursor:"pointer"},on:{click:function(e){t.$emit("remove")}}},[i("Icon",{attrs:{type:"close"}}),t._v(" 删除")],1)],1)},staticRenderFns:[]};var Tt={name:"PracticeCreateItem",data:function(){return{id:this.problem.id,p:this.problem.problem,choices:this.problem.choices,correctAnswer:this.problem.correctAnswer}},props:["problem"],mounted:function(){},methods:{handleEdit:function(t){console.log(t.path[3].dataset.pid);var e=t.path[3].dataset.pid;this.$emit("editProblem",e)},handleRemove:function(t){var e=t.path[3].dataset.pid;this.$emit("removeProblem",e)}}},It={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teacherpracticecreate-item",attrs:{"data-pid":this.id}},[i("div",{staticClass:"problem-label"},[i("p",[t._v(t._s(t.p))])]),t._v(" "),i("div",{staticClass:"choices"},t._l(t.choices,function(e){return i("p",[t._v(t._s(e.value)),e.value===t.correctAnswer?i("span",{staticClass:"correct-answer"},[t._v("(正确答案)")]):t._e()])})),t._v(" "),i("div",{staticClass:"op-wrap"},[i("p",{staticStyle:{"text-align":"left","white-space":"pre-wrap"}},[i("span",{staticStyle:{"margin-right":"10px",color:"#2d8cf0",cursor:"pointer"},on:{click:function(e){t.handleEdit(e)}}},[t._v("编辑此题")]),i("span",{staticStyle:{color:"#ed3f14",cursor:"pointer"},on:{click:function(e){t.handleRemove(e)}}},[t._v("删除此题")])])])])},staticRenderFns:[]};var $t,Lt={name:"TeacherPracticeEdit",data:function(){return{id:this.$route.params.practiceid,relation:"",relatedCourse:"",relatedTopic:"",relatedSection:"",courses:[],topics:[],sections:[],curProblemStatus:0,curProblemIndex:0,type:"",fakeid:"",title:"",problemid:"",problem:"",choiceCount:0,choices:[],correctAnswer:"",problemList:[]}},components:{ChoiceItem:i("VU/8")(kt,Et,!1,function(t){i("vrXN")},null,null).exports,PracticeCreateItem:i("VU/8")(Tt,It,!1,function(t){i("4u9j")},null,null).exports},methods:{initComp:function(){-1!=this.$route.name.indexOf("TeacherPracticeCreate")?(console.log("Create"),this.type="create",this.title="",this.problemList=[],this.problem="",this.choices=[],this.correctAnswer="",l.a.get("http://"+this.BASEURL+"/teacherCourse?uid="+this.$getCookie("uid")).then(function(t){if(t.data.success){var e=t.data.courses;e.length&&(this.courses=e)}}.bind(this))):-1!=this.$route.name.indexOf("TeacherPracticeEdit")&&(this.type="edit",l.a.get("http://"+this.BASEURL+"/editPractice?practiceId="+this.$route.params.practiceid).then(function(t){console.log(t),t.data.success&&(this.title=t.data.title,this.problemList=t.data.problemList,this.relation=t.data.relation)}.bind(this)),l.a.get("http://"+this.BASEURL+"/teacherCourse?uid="+this.$getCookie("uid")).then(function(t){if(t.data.success){var e=t.data.courses;e.length&&(this.courses=e)}}.bind(this)),document.getElementById("problemsdetail").style.display="block")},handleChangeCourse:function(){this.relatedTopic="",this.relatedSection="",this.topics=[],this.sections=[],console.log(this.relatedCourse),l.a.get("http://"+this.BASEURL+"/teacherTopic?courseId="+this.relatedCourse).then(function(t){if(t.data.success){var e=t.data.topics;e.length&&(e.unshift({value:"0",title:"不选择章节"}),this.topics=e)}}.bind(this))},handleChangeTopic:function(){this.relatedSection="",this.sections=[],"0"!==this.relatedTopic&&l.a.get("http://"+this.BASEURL+"/teacherSection?topicId="+this.relatedTopic).then(function(t){if(t.data.success){var e=t.data.sections;e.length&&(e.unshift({value:"0",title:"不选择小节"}),this.sections=e)}}.bind(this))},handleNewChoice:function(){this.choices.push({cid:this.choiceCount,value:"",correct:!1}),this.choiceCount+=1},handleRemove:function(t){this.choices.splice(t,1)},handleNewProblem:function(){document.getElementById("plus").style.display="none",document.getElementById("minus").style.display="block",this.curProblemStatus=0,this.curProblemIndex=this.problemList.length},handleCollapse:function(){document.getElementById("minus").style.display="none",document.getElementById("plus").style.display="block",document.getElementById("problemlist").style.display="block",this.problem="",this.choices=[],this.problemCount=0,this.correctAnswer=""},handleEditProblem:function(t){for(var e=0;e<this.problemList.length;e++)if(this.problemList[e].id===t)return this.problemid=this.problemList[e].id,this.problem=this.problemList[e].problem,this.choices=this.problemList[e].choices,this.correctAnswer=this.problemList[e].correctAnswer,this.choiceCount=this.problemList[e].choices.length,this.curProblemStatus=1,this.curProblemIndex=e,document.getElementById("problemlist").style.display="none",document.getElementById("plus").style.display="none",void(document.getElementById("minus").style.display="block")},handleRemoveProblem:function(t){console.log("delete",t);for(var e=0;e<this.problemList.length;e++)this.problemList[e].id===t&&(console.log("Here"),l.a.delete("http://"+this.BASEURL+"/editProblem?problemId="+t).then(function(t){if(console.log(t),t.data.success)return alert("Success!"),void window.location.reload()}.bind(this)))},handleSaveProblem:function(){if(""!==this.problem)if(0!==this.choices.length)if(""!==this.correctAnswer){if(document.getElementById("minus").style.display="none",document.getElementById("plus").style.display="block",document.getElementById("problemlist").style.display="block",0===this.curProblemStatus){for(var t=[],e=0;e<this.choices.length;e++)t[e]=this.choices[e].value;var i={practiceId:this.id,index:this.curProblemIndex,content:this.problem,choices:t,answer:this.correctAnswer};console.log(i),l.a.post("http://"+this.BASEURL+"/createProblem",i).then(function(t){t.data.success&&(console.log(t),this.problemList=t.data.problemList)}.bind(this))}else if(1===this.curProblemStatus){for(t=[],e=0;e<this.choices.length;e++)t[e]=this.choices[e].value;i={practiceId:this.id,problemId:this.problemid,index:this.curProblemIndex,content:this.problem,choices:t,answer:this.correctAnswer};console.log(i),l.a.put("http://"+this.BASEURL+"/editProblem",i).then(function(t){t.data.success&&(console.log(t),this.problemList.splice(i.index,1,t.data.problemList[i.index]))}.bind(this))}this.problemid="",this.problem="",this.choices=[],this.problemCount=0,this.correctAnswer=""}else alert("请为题目选择正确选项");else alert("请添加至少一个选项");else alert("题面不得为空")},handleSave:function(){if(""!==this.title){if("create"===this.type){var t={userId:this.$getCookie("uid"),title:this.title,relatedCourse:this.relatedCourse,relatedTopic:this.relatedTopic,relatedSection:this.relatedSection};l.a.post("http://"+this.BASEURL+"/createPractice",t).then(function(t){alert("Save Successfully!"),this.$router.push({path:"/teachermain/practiceEdit/"+t.data.id}),window.location.reload()}.bind(this))}else if("edit"===this.type){t={practiceId:this.id,title:this.title,relatedCourse:this.relatedCourse,relatedTopic:this.relatedTopic,relatedSection:this.relatedSection};l.a.put("http://"+this.BASEURL+"/editPractice",t).then(function(t){console.log(t),t.data.success&&(alert("Success!"),window.location.reload())})}}else alert("练习名不得为空")}},created:function(){$t=this,xt.$on("SetChoice",function(t){for(var e=t.index,i=t.value,s=$t.choices.length,a=0;a<s;a++)if($t.choices[a].cid===e)return void($t.choices[a].value=i)})},mounted:function(){this.initComp()}},Bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teacherpracticecreate-wrap"},[i("div",{staticClass:"teacherpracticecreate-content"},[i("div",{staticClass:"teacherpracticecreate-label",staticStyle:{"text-align":"left",padding:"10px 25px 0"}},["create"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("新建练习")]):"edit"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("编辑练习")]):t._e()]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-basic-info"},[i("p",{staticStyle:{"text-align":"left","font-size":"1.1rem","font-weight":"bold","padding-bottom":"15px"}},[t._v("练习基本信息")]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-title teacherpracticecreate-input",staticStyle:{"text-align":"left"}},[i("span",[t._v("练习名")]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-input-wrap"},[i("Input",{attrs:{size:"large",placeholder:"练习名"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("p",{staticStyle:{padding:"10px 0","font-size":"1.1em","font-weight":"bold"}},[t._v("练习关联课程")]),t._v(" "),"edit"===this.type?i("p",{staticStyle:{"padding-bottom":"10px","font-size":"1.1em","white-space":"pre-wrap"}},[t._v("已关联  "+t._s(this.relation))]):t._e(),t._v(" "),i("div",{staticClass:"teacherpracticecreate-course-relation"},[i("div",{staticClass:"course-dropdown"},[i("span",[t._v("课程")]),t._v(" "),i("Select",{on:{"on-change":t.handleChangeCourse},model:{value:t.relatedCourse,callback:function(e){t.relatedCourse=e},expression:"relatedCourse"}},t._l(t.courses,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title))])}))],1),t._v(" "),i("div",{staticClass:"topic-dropdown",staticStyle:{display:"block"}},[i("span",[t._v("章节")]),t._v(" "),i("Select",{on:{"on-change":t.handleChangeTopic},model:{value:t.relatedTopic,callback:function(e){t.relatedTopic=e},expression:"relatedTopic"}},t._l(t.topics,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title))])}))],1),t._v(" "),i("div",{staticClass:"section-dropdown",staticStyle:{display:"block"}},[i("span",[t._v("小节")]),t._v(" "),i("Select",{model:{value:t.relatedSection,callback:function(e){t.relatedSection=e},expression:"relatedSection"}},t._l(t.sections,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.title))])}))],1)])])]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-button-wrap",staticStyle:{float:"right",padding:"10px"}},[i("Button",{attrs:{type:"success",size:"large"},on:{click:t.handleSave}},[t._v("保存此练习")])],1),t._v(" "),i("div",{staticClass:"float-clear"}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"teacherpracticecreate-problems",staticStyle:{display:"none"},attrs:{id:"problemsdetail"}},[i("p",{staticStyle:{"text-align":"left","font-size":"1.1rem","font-weight":"bold","padding-bottom":"15px"}},[t._v("题目详情 (即时保存)")]),t._v(" "),i("div",{staticClass:"teacherpracticeCreate-list-wrap",staticStyle:{display:"block"},attrs:{id:"problemlist"}},t._l(t.problemList,function(e){return i("PracticeCreateItem",{attrs:{problem:e},on:{editProblem:t.handleEditProblem,removeProblem:t.handleRemoveProblem}})})),t._v(" "),i("div",{staticClass:"teacherpracticecreate-plus",staticStyle:{float:"left"},attrs:{id:"plus"}},[i("span",{staticStyle:{color:"#19be6b","font-weight":"bold","font-size":"1.05rem",cursor:"pointer"},on:{click:t.handleNewProblem}},[i("Icon",{attrs:{type:"plus"}}),t._v(" 新增")],1)]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-minus",staticStyle:{display:"none"},attrs:{id:"minus"}},[i("span",{staticStyle:{color:"#2d8cf0","font-weight":"bold","font-size":"1.05rem",float:"left","padding-bottom":"10px",cursor:"pointer"},on:{click:t.handleCollapse}},[i("Icon",{attrs:{type:"minus"}}),t._v(" 收起")],1),t._v(" "),i("div",{staticClass:"teacherpracticecreate-input",staticStyle:{clear:"both",float:"left"}},[i("span",[t._v("题目")]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-input-wrap"},[i("Input",{attrs:{type:"textarea",placeholder:"题目",rows:"3"},model:{value:t.problem,callback:function(e){t.problem=e},expression:"problem"}})],1)]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-choices"},[t._l(t.choices,function(e,s){return i("ChoiceItem",{attrs:{choiceValue:e.value,cid:e.cid},on:{remove:function(e){t.handleRemove(s)}}})}),t._v(" "),i("div",{staticClass:"teacherpracticecreate-input-wrap",staticStyle:{float:"left"}},[i("div",{staticStyle:{height:"36px",border:"1px dashed #dddee1","border-radius":"4px",cursor:"pointer"},on:{click:t.handleNewChoice}},[i("p",{staticStyle:{"text-align":"left",color:"#80848f",padding:"9px 10px"}},[i("Icon",{attrs:{type:"plus"}}),t._v(" 新增一个选项")],1)])]),t._v(" "),i("div",{staticClass:"teacherpracticecreate-correct-choice"},[i("span",{staticStyle:{"padding-right":"5px"}},[t._v("正确选项")]),t._v(" "),i("Select",{staticStyle:{width:"500px"},model:{value:t.correctAnswer,callback:function(e){t.correctAnswer=e},expression:"correctAnswer"}},t._l(t.choices,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v("\n                "+t._s(e.value)+"\n              ")])}))],1),t._v(" "),i("div",{staticClass:"float-clear"})],2),t._v(" "),i("div",{staticClass:"teacherpracticecreate-button-wrap",staticStyle:{float:"left",padding:"10px 0"}},[i("Button",{attrs:{type:"success",size:"large"},on:{click:t.handleSaveProblem}},[t._v("保存此题")]),t._v(" "),i("Button",{attrs:{type:"error",size:"large"},on:{click:t.handleCollapse}},[t._v("取消")])],1)])]),t._v(" "),i("div",{staticClass:"float-clear"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var Rt=i("VU/8")(Lt,Bt,!1,function(t){i("CZoE")},null,null).exports,Ut=i("arxu"),Pt=i.n(Ut),At=(i("/I1v"),{name:"CreateSection",data:function(){return{entityType:"video",sTitle:""}},props:["clicked"],mounted:function(){},components:{"mavon-editor":Pt.a.mavonEditor},methods:{handleChange:function(t){"video"===t?(document.getElementById("insert-doc").style.display="none",document.getElementById("insert-video").style.display="block"):"doc"===t&&(document.getElementById("insert-video").style.display="none",document.getElementById("insert-doc").style.display="block")},handleOk:function(){this.$emit("close"),this.sTitle=document.getElementById("inputSectionTitle").children[1].value;var t={id:"",sectionTitle:this.sTitle,entityType:this.entityType};this.$emit("save",t)},handleCancel:function(){this.$emit("close")}}}),Vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{value:t.clicked,title:"新建小节",width:"1000px","mask-closable":"false"},on:{"on-ok":t.handleOk,"on-cancel":t.handleCancel}},[i("div",{staticClass:"createsection-input-wrap",staticStyle:{"padding-bottom":"10px"}},[i("p",{staticStyle:{float:"left",padding:"7px 5px 7px 0","font-weight":"bold"}},[t._v("小节名")]),t._v(" "),i("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"小节名",id:"inputSectionTitle"}})],1),t._v(" "),i("div",{staticClass:"createsection-entity-type",staticStyle:{"padding-bottom":"10px"}},[i("p",{staticStyle:{float:"left","padding-right":"5px","font-weight":"bold"}},[t._v("内容类型")]),t._v(" "),i("RadioGroup",{on:{"on-change":t.handleChange},model:{value:t.entityType,callback:function(e){t.entityType=e},expression:"entityType"}},[i("Radio",{attrs:{label:"video"}},[i("span",[t._v("视频")])]),t._v(" "),i("Radio",{attrs:{label:"doc"}},[i("span",[t._v("文档")])])],1)],1),t._v(" "),i("div",{staticClass:"createsection-insert-video",staticStyle:{display:"block"},attrs:{id:"insert-video"}},[i("Upload",{attrs:{type:"drag",format:".mp4, .flv"}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),t._v(" "),i("p",[t._v("点击选择文件或拖拽文件到此处")])],1)])],1),t._v(" "),i("div",{staticClass:"createsection-insert-doc",staticStyle:{display:"none"},attrs:{id:"insert-doc"}},[i("mavon-editor",{staticStyle:{height:"640px",width:"970px"}})],1)])},staticRenderFns:[]};var zt=i("VU/8")(At,Vt,!1,function(t){i("WtqY")},null,null).exports,Dt=i("Xxa5"),Ft=i.n(Dt),Nt=i("exGp"),Ot=i.n(Nt),Mt=i("Dd8w"),Ht=i.n(Mt),jt=i("//Fk"),Wt=i.n(jt),qt=i("r8CB"),Gt=i.n(qt);const Zt={width:"100%",height:600,path:"/static/editor.md/lib/",lineWrapping:!0,codeFold:!0,placeholder:"请输入...",syncScrolling:!0,saveHTMLToTextarea:!0,searchReplace:!0,watch:!0,htmlDecode:"style,script,iframe|on*",toolbar:!0,previewCodeHighlight:!0,emoji:!0,taskList:!0,tocm:!0,tex:!0,flowChart:!0,sequenceDiagram:!0,onfullscreen:function(){this.editor.css("z-index",12e3),console.log("fullscreen")},onfullscreenExit:function(){console.log("exit fullscreen"),this.editor.css("z-index",1e4).css("width","790px"),this.resize()},onchange:function(t,e,i){console.log(t),console.log(e)}},Qt=[{label:"monokai",value:"monokai.min.css"},{label:"atelier-cave-dark",value:"atelier-cave-dark.min.css"},{label:"atelier-cave-light",value:"atelier-cave-light.min.css"},{label:"atelier-dune-dark",value:"atelier-dune-dark.min.css"},{label:"atelier-dune-light",value:"atelier-dune-light.min.css"},{label:"atelier-estuary-dark",value:"atelier-estuary-dark.min.css"},{label:"atelier-estuary-light",value:"atelier-estuary-light.min.css"},{label:"atelier-forest-dark",value:"atelier-forest-dark.min.css"},{label:"atelier-forest-light",value:"atelier-forest-light.min.css"},{label:"atelier-heath-dark",value:"atelier-heath-dark.min.css"},{label:"atelier-heath-light",value:"atelier-heath-light.min.css"},{label:"atelier-lakeside-dark",value:"atelier-lakeside-dark.min.css"},{label:"atelier-lakeside-light",value:"atelier-lakeside-light.min.css"},{label:"atelier-plateau-dark",value:"atelier-plateau-dark.min.css"},{label:"atelier-plateau-light",value:"atelier-plateau-light.min.css"},{label:"atelier-savanna-dark",value:"atelier-savanna-dark.min.css"},{label:"atelier-savanna-light",value:"atelier-savanna-light.min.css"},{label:"atelier-seaside-dark",value:"atelier-seaside-dark.min.css"},{label:"atelier-seaside-light",value:"atelier-seaside-light.min.css"},{label:"atelier-sulphurpool-dark",value:"atelier-sulphurpool-dark.min.css"},{label:"atelier-sulphurpool-light",value:"atelier-sulphurpool-light.min.css"},{label:"github",value:"github.min.css"},{label:"github-v2",value:"github-v2.min.css"},{label:"hemisu-dark",value:"hemisu-dark.min.css"},{label:"hemisu-light",value:"hemisu-light.min.css"},{label:"tomorrow",value:"tomorrow.min.css"},{label:"tomorrow-night",value:"tomorrow-night.min.css"},{label:"tomorrow-night-blue",value:"tomorrow-night-blue.min.css"},{label:"tomorrow-night-bright",value:"tomorrow-night-bright.min.css"},{label:"tomorrow-night-eighties",value:"tomorrow-night-eighties.min.css"},{label:"tranquil-heart",value:"tranquil-heart.min.css"},{label:"vibrant-ink",value:"vibrant-ink.min.css"}];var Yt={name:"EditorMd",props:{editorId:{type:String,default:"markdown-editor"},onchange:{type:Function},config:{type:Object},codeTheme:{type:String,default:"vibrant-ink.min.css"},initData:{type:String},initDataDelay:{type:Number,default:0},isView:{type:Boolean,default:!1}},data:function(){return{editor:null,codeThemes:Qt,editorLoaded:!1}},methods:{fetchScript:function(t){return new Wt.a(function(e){Gt()(t,function(){e()})})},getConfig:function(){return Ht()({},Zt,this.config)},initEditor:function(){var t=this;Ot()(Ft.a.mark(function e(){return Ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchScript("/static/editor.md/jquery.min.js");case 2:return e.next=4,t.fetchScript("/static/editor.md/editormd.min.js");case 4:t.$nextTick(function(){var e=window.editormd(t.editorId,t.getConfig());e.on("load",function(){setTimeout(function(){t.editorLoaded=!0,t.initData&&e.setMarkdown(t.initData)},t.initDataDelay)}),t.onchange&&e.on("change",function(){var i=e.getPreviewedHTML();t.onchange({markdown:e.getMarkdown(),html:i,text:window.$(i).text()})}),t.editor=e});case 5:case"end":return e.stop()}},e,t)}))()}},mounted:function(){},watch:{initData:function(t){t&&this.editorLoaded&&this.editor.setMarkdown(t)},isView:function(t){t&&this.initEditor()}}},Xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"md-editor-wrap"},[e("link",{attrs:{rel:"stylesheet",href:"/static/editor.md/css/editormd.min.css"}}),this._v(" "),e("link",{attrs:{rel:"stylesheet",href:"/static/editor.md/css/codeTheme/"+this.codeTheme}}),this._v(" "),e("div",{attrs:{id:this.editorId}}),this._v(" "),e("div",{staticStyle:{display:"none"},attrs:{id:"md-to-html"}})])},staticRenderFns:[]};var Jt=i("VU/8")(Yt,Xt,!1,function(t){i("gRKV")},null,null).exports,Kt={name:"TeacherSectionEdit",data:function(){return{type:"",entity:{entityType:"video",video_url:"",md_url:"",content:""},sectionid:"",topicid:"",courseid:"",sectionTitle:"",docshow:!1,md:"",actionurl:"http://"+this.BASEURL+"/videoUpload"}},components:{"mavon-editor":Pt.a.mavonEditor,EditorMd:Jt},methods:{initComp:function(){-1!=this.$route.name.indexOf("TeacherSectionCreate")?(this.type="create",this.sectionTitle="",this.sectionid="",this.topicid=this.$route.params.topicid,this.courseid=this.$route.params.courseid):-1!=this.$route.name.indexOf("TeacherSectionEdit")&&l.a.get("http://"+this.BASEURL+"/editSection?sectionId="+this.$route.params.sectionid).then(function(t){console.log(t),this.sectionTitle=t.data.sectionTitle,this.entity.entityType=t.data.entity.entityType,this.type="edit",this.sectionid=this.$route.params.sectionid,this.topicid=this.$route.params.topicid,this.courseid=this.$route.params.courseid,console.log(this.entity),"doc"===this.entity.entityType?(this.entity.md_url=t.data.entity.url,this.entity.content=t.data.entity.content,l.a.get(this.entity.md_url).then(function(t){this.md=t.data}.bind(this)),document.getElementById("editVideo").style.display="none",document.getElementById("editDoc").style.display="block",this.docshow=!0):"video"===this.entity.entityType&&(this.entity.video_url=t.data.entity.url)}.bind(this))},handleChange:function(t){"video"===t?(document.getElementById("editDoc").style.display="none",document.getElementById("editVideo").style.display="block"):"doc"===t&&(document.getElementById("editVideo").style.display="none",document.getElementById("editDoc").style.display="block",this.docshow=!0)},handleSave:function(){if("create"===this.type){if(""===this.sectionTitle)return void alert("小节名不能为空");if("video"===this.entity.entityType&&""===this.entity.video_url)return void alert("请上传视频");if("doc"===this.entity.entityType){var t=document.getElementsByName("markdown-editor-markdown-doc")[0].innerText,e=document.getElementsByName("markdown-editor-html-code")[0].innerHTML;console.log(t,e),this.entity.content=e,l.a.post("http://"+this.BASEURL+"/createMdFile",{md:t}).then(function(t){if(console.log(t),t.data.success){this.entity.md_url=t.data.url;var e={courseId:this.courseid,topicId:this.topicid,title:this.sectionTitle,entity:{entityType:"doc",url:this.entity.md_url,content:this.entity.content}};l.a.post("http://"+this.BASEURL+"/createSection",e).then(function(t){"success"===t.data.state&&(alert("success!"),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}}.bind(this))}if("video"===this.entity.entityType){var i={courseId:this.courseid,topicId:this.topicid,title:this.sectionTitle,entity:{entityType:"video",url:this.entity.video_url}};l.a.post("http://"+this.BASEURL+"/createSection",i).then(function(t){"success"===t.data.state&&(alert("success!"),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}}else if("edit"===this.type){if(""===this.sectionTitle)return void alert("小节名不能为空");if("video"===this.entity.entityType&&""===this.entity.video_url)return void alert("请上传视频");if("doc"===this.entity.entityType){t=document.getElementsByName("markdown-editor-markdown-doc")[0].innerText,e=document.getElementsByName("markdown-editor-html-code")[0].innerHTML;this.entity.content=e,l.a.post("http://"+this.BASEURL+"/createMdFile",{md:t}).then(function(t){if(console.log(t),t.data.success){console.log("here?"),this.entity.md_url=t.data.url;var e={courseId:this.courseid,topicId:this.topicid,sectionId:this.sectionid,sectionTitle:this.sectionTitle,entity:{entityType:"doc",url:this.entity.md_url,content:this.entity.content}};l.a.put("http://"+this.BASEURL+"/editSection",e).then(function(t){console.log(t),t.data.success&&(alert("Saved!"),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}}.bind(this))}if("video"===this.entity.entityType){i={courseId:this.courseid,topicId:this.topicid,sectionId:this.sectionid,sectionTitle:this.sectionTitle,entity:{entityType:"video",url:this.entity.video_url}};l.a.put("http://"+this.BASEURL+"/editSection",i).then(function(t){console.log(t),t.data.success&&(alert("Saved!"),this.$router.push({path:"/teachermain/courseEdit/"+this.courseid}))}.bind(this))}}console.log("保存~")},handleSuccess:function(t){console.log(t),"success"===t.state&&(this.entity.video_url=t.url)}},mounted:function(){console.log(this.$route.name),this.initComp()}},te={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editsection-wrap"},[i("div",{staticClass:"editsection-content",staticStyle:{"overflow-y":"auto"}},[i("div",{staticClass:"editsection-label",staticStyle:{"text-align":"left",padding:"15px 0"}},["create"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("新建小节")]):"edit"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("编辑小节")]):t._e()]),t._v(" "),i("div",{staticClass:"editsection-title",staticStyle:{"padding-bottom":"10px"}},[i("p",{staticStyle:{float:"left","text-align":"left",padding:"7px 10px 7px 0"}},[t._v("小节名")]),t._v(" "),i("Input",{staticStyle:{width:"300px",float:"left"},attrs:{placeholder:"小节名"},model:{value:t.sectionTitle,callback:function(e){t.sectionTitle=e},expression:"sectionTitle"}}),t._v(" "),i("div",{staticClass:"float-clear"})],1),t._v(" "),i("div",{staticClass:"editsection-entity-type",staticStyle:{"padding-bottom":"10px"}},[i("p",{staticStyle:{float:"left","text-align":"left","padding-right":"10px"}},[t._v("内容类型")]),t._v(" "),i("RadioGroup",{staticStyle:{float:"left"},on:{"on-change":t.handleChange},model:{value:t.entity.entityType,callback:function(e){t.$set(t.entity,"entityType",e)},expression:"entity.entityType"}},[i("Radio",{attrs:{label:"video"}},[i("span",[t._v("视频")])]),t._v(" "),i("Radio",{attrs:{label:"doc"}},[i("span",[t._v("文档")])])],1),t._v(" "),i("div",{staticClass:"float-clear"})],1),t._v(" "),i("div",{staticClass:"editSection-insert-video",staticStyle:{display:"block"},attrs:{id:"editVideo"}},["edit"===t.type?i("p",{staticStyle:{"text-align":"left","font-size":"1.1em","font-weight":"bold","padding-bottom":"10px",color:"#5cadff"}},[i("a",{attrs:{href:this.entity.video_url,id:"video_link"}},[i("span",[t._v("点击这里查看已上传视频")])])]):t._e(),t._v(" "),i("Upload",{attrs:{type:"drag",action:this.actionurl,"on-success":t.handleSuccess}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),t._v(" "),i("p",[t._v("点击选择文件或拖拽文件到此处")])],1)])],1),t._v(" "),i("div",{staticClass:"createsection-insert-doc",staticStyle:{display:"none",width:"790px"},attrs:{id:"editDoc"}},[i("EditorMd",{staticStyle:{"z-index":"10000"},attrs:{isView:t.docshow,initData:t.md}})],1),t._v(" "),t._m(0),t._v(" "),i("Button",{staticStyle:{"margin-bottom":"20px",float:"right"},attrs:{type:"success"},on:{click:t.handleSave}},[t._v("保存此节")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap"},[e("hr")])}]};var ee=i("VU/8")(Kt,te,!1,function(t){i("3T1z")},null,null).exports,ie={name:"CourseEditItem",data:function(){return{courseid:"",id:"",topicTitle:"",sections:""}},props:["topic"],methods:{initComp:function(){this.courseid=this.$route.params.id,this.id=this.topic.id,this.topicTitle=this.topic.topicTitle,this.sections=this.topic.sections},handleOpen:function(t){var e=t.path[0].className;-1!=e.indexOf("span-open")?(t.path[3].children[1].style.display="block",t.path[0].className="span-close",t.path[0].innerText="收起"):-1!=e.indexOf("span-close")&&(t.path[3].children[1].style.display="none",t.path[0].className="span-open",t.path[0].innerText="展开")},handleEditTopic:function(){this.$router.push({path:"/teachermain/topicEdit/"+this.courseid+"/"+this.id})},handleRemoveTopic:function(t){console.log(t.path[2].dataset.tid);var e=t.path[2].dataset.tid;this.$emit("removetopic",e)},handleEditSection:function(t){console.log(t.path[1].dataset.sid);var e=t.path[1].dataset.sid;this.$router.push({path:"/teachermain/sectionEdit/"+this.courseid+"/"+this.id+"/"+e})},handleRemoveSection:function(t){console.log(t.path[1].dataset.sid);var e=t.path[1].dataset.sid;this.$emit("removesection",e)},handleAddSection:function(){this.$router.push({path:"/teachermain/sectionCreate/"+this.courseid+"/"+this.id})}},components:{CreateSection:zt,EditSection:ee},mounted:function(){console.log(this.topic),this.initComp()}},se={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachercourseedit-list-item"},[i("div",{staticClass:"topictitle-label",attrs:{"data-tid":t.id}},[i("p",[t._v(t._s(t.topicTitle))]),t._v(" "),i("p",{staticStyle:{"font-size":"0.6rem"}},[i("span",{staticClass:"span-edit",on:{click:t.handleEditTopic}},[t._v("编辑  ")]),i("span",{staticClass:"span-remove",on:{click:function(e){t.handleRemoveTopic(e)}}},[t._v("删除  ")]),i("span",{staticClass:"span-open",on:{click:t.handleOpen}},[t._v("展开")])])]),t._v(" "),i("div",{staticClass:"section-list",staticStyle:{display:"none"}},[t._l(t.sections,function(e){return i("p",{attrs:{"data-sid":e.id}},[t._v("    "+t._s(e.sectionTitle)),i("span",{staticClass:"span-edit",on:{click:function(e){t.handleEditSection(e)}}},[t._v("    编辑  ")]),i("span",{staticClass:"span-remove",on:{click:function(e){t.handleRemoveSection(e)}}},[t._v("删除  ")])])}),t._v(" "),i("p",[i("span",{staticStyle:{cursor:"pointer"},on:{click:t.handleAddSection}},[i("Icon",{attrs:{type:"plus"}}),t._v(" 新增小节")],1)])],2)])},staticRenderFns:[]};var ae={name:"TeacherCourseEdit",data:function(){return{id:this.$route.params.id,type:"",title:"",desc:"",courseDetail:[]}},components:{CourseEditItem:i("VU/8")(ie,se,!1,function(t){i("ID+1")},null,null).exports},methods:{initComp:function(){if(-1!=this.$route.name.indexOf("TeacherCourseCreate"))this.type="create",this.id="",this.title="",this.desc="",this.courseDetail="";else if(-1!=this.$route.name.indexOf("TeacherCourseEdit")){this.type="edit";var t=this.$route.params.id;l.a.get("http://"+this.BASEURL+"/editCourse?courseId="+t).then(function(t){console.log(t),this.id=t.data.id,this.title=t.data.title,this.desc=t.data.desc,this.courseDetail=t.data.courseDetail}.bind(this))}},handleRemoveTopic:function(t){confirm("确定要删除？")&&l.a.delete("http://"+this.BASEURL+"/editTopic?topicId="+t+"&courseId="+this.id).then(function(t){"success"===t.data.state&&this.initComp()}.bind(this))},handleRemoveSection:function(t){console.log("Here!"),confirm("确定删除？")&&l.a.delete("http://"+this.BASEURL+"/editSection?sectionId="+t).then(function(t){console.log(t),t.data.success&&window.location.reload()}.bind(this))},handleCancel:function(){confirm("确认要取消？")&&this.$router.push({path:"/teachermain"})},handleSave:function(){if(console.log(this.courseDetail),"create"===this.type){var t={userId:this.$getCookie("uid"),courseTitle:this.title,courseDescription:this.desc};l.a.post("http://"+this.BASEURL+"/createCourse",t).then(function(t){!0===t.data.status?(alert(t.data.course_id),console.log(t.data.data),this.$router.push({path:"/teachermain/courseEdit/"+t.data.course_id}),window.location.reload()):t.data.status}.bind(this))}else if("edit"===this.type){t={courseId:this.id,title:this.title,desc:this.desc};l.a.put("http://"+this.BASEURL+"/editCourse",t).then(function(t){console.log(t),"success"===t.data.state&&this.initComp()}.bind(this))}}},mounted:function(){console.log(this.$route),this.initComp()}},ne={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachercourseedit-wrap"},[i("div",{staticClass:"teachercourseedit-content"},[i("div",{staticStyle:{padding:"10px"}}),t._v(" "),i("div",{staticClass:"teachercourseedit-label",staticStyle:{"text-align":"left","padding-left":"25px"}},["edit"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("编辑课程")]):t._e(),t._v(" "),"create"===this.type?i("p",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v("新建课程")]):t._e(),t._v(" "),i("div",{staticClass:"teachercourseedit-input-wrap",staticStyle:{padding:"10px 0"}},[i("span",{staticStyle:{"padding-right":"10px"}},[t._v("课程名")]),t._v(" "),i("Input",{staticStyle:{width:"500px",padding:"10px 0"},attrs:{placeholder:"课程名"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("div",{staticClass:"teachercourseedit-input-wrap"},[i("span",{staticStyle:{"padding-right":"10px"}},[t._v("课程简介")]),t._v(" "),i("Input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"课程简介",rows:"4"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)]),t._v(" "),i("div",{staticClass:"button-wrap",staticStyle:{float:"right",padding:"10px 20px"}},[i("Button",{attrs:{type:"error"},on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"success"},on:{click:t.handleSave}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"float-clear"}),t._v(" "),t._m(0),t._v(" "),"edit"===this.type?i("div",{staticClass:"teachercourseedit-topic-edit",staticStyle:{display:"block"}},[t._m(1),t._v(" "),t._l(t.courseDetail,function(e){return i("CourseEditItem",{attrs:{topic:e},on:{removetopic:t.handleRemoveTopic,removesection:t.handleRemoveSection}})}),t._v(" "),i("p",{staticStyle:{"text-align":"left","font-size":"1.1em","padding-left":"25px","padding-top":"10px","white-space":"pre-wrap"}},[i("router-link",{attrs:{to:{name:"TeacherTopicCreate",params:{courseid:this.id}}}},[i("span",{staticStyle:{cursor:"pointer"}},[i("Icon",{attrs:{type:"plus"}}),t._v(" 新增章节")],1)])],1)],2):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hr-wrap",staticStyle:{"padding-top":"10px"}},[e("hr")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"teachercourseedit-label",staticStyle:{"text-align":"left",padding:"10px 25px"}},[e("p",{staticStyle:{"font-size":"1.2em","font-weight":"bold",color:"#80848f","white-space":"pre-wrap"}},[this._v("章节结构 (创建后即保存)")])])}]};var ce=i("VU/8")(ae,ne,!1,function(t){i("SeQF")},null,null).exports,oe={name:"ImportStudent",data:function(){return{studentId:"",column:[{title:"序号",key:"number"},{title:"学号",key:"uid"}],table:[],courseId:this.$route.params.courseid}},mounted:function(){l.a.get("http://"+this.BASEURL+"/studentNameList?courseId="+this.courseId).then(function(t){console.log(t),this.table=t.data}.bind(this))},methods:{handleImport:function(){if(""===this.studentId)alert("请填写学生学号！");else if(/^[0-9]+.?[0-9]*/.test(this.studentId)&&10==this.studentId.length){for(var t=0;t<this.table.length;t++)if(this.table[t].uid===this.studentId)return void alert("该学生已存在！");var e={courseId:this.courseId,uid:this.studentId};l.a.post("http://"+this.BASEURL+"/importStudent",e).then(function(t){console.log(t),t.data.success?(alert("添加成功！"),l.a.get("http://"+this.BASEURL+"/studentNameList?courseId="+this.courseId).then(function(t){this.table=t.data}.bind(this))):alert(t.data.reason)}.bind(this))}else alert("请输入正确的学号！")}}},re={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"importstudent-wrap"},[i("div",{staticClass:"import-input-wrap"},[i("p",[i("span",{staticStyle:{"padding-right":"10px"}},[t._v("学生学号")]),i("Input",{staticStyle:{width:"200px","padding-right":"10px"},model:{value:t.studentId,callback:function(e){t.studentId=e},expression:"studentId"}}),i("Button",{attrs:{type:"success"},on:{click:t.handleImport}},[t._v("确认添加")])],1)]),t._v(" "),i("div",{staticClass:"student-table",staticStyle:{"margin-top":"30px"}},[i("Table",{attrs:{columns:t.column,data:t.table}})],1)])},staticRenderFns:[]};var le=i("VU/8")(oe,re,!1,function(t){i("LGaC")},null,null).exports;s.default.use(c.a);var de=i("YzUZ"),ue=new c.a({mode:"history",scrollBehavior:function(t,e,i){if(t.hash)return{selector:t.hash}},routes:[{path:"/",redirect:function(t){var e=de.methods.getCookie("username"),i=de.methods.getCookie("character");return null===e?"/login":0===parseInt(i)?"/studentmain":1===parseInt(i)?"/teachermain":void 0}},{path:"/login",name:"Login",component:h},{path:"/studentmain",name:"StudentMain",component:y,children:[{path:"/",name:"StudentCourse",component:rt},{path:"course",name:"StudentCourse",component:rt},{path:"practice",name:"StudentPractice",component:ut}]},{path:"/practice/:id",name:"Practice",component:b},{path:"/course/:id",name:"Course",component:L},{path:"/section/:id",name:"Section",component:W},{path:"/practice/:id/detail",name:"PracticeDetail",component:tt},{path:"/teachermain",name:"TeacherMain",component:nt,children:[{path:"",name:"TeacherCourseList",component:vt},{path:"course",name:"TeacherCourseList",component:vt},{path:"practice",name:"TeacherPracticeList",component:_t},{path:"courseCreate",name:"TeacherCourseCreate",component:ce},{path:"topicCreate/:courseid",name:"TeacherTopicCreate",component:wt},{path:"sectionCreate/:courseid/:topicid",name:"TeacherSectionCreate",component:ee},{path:"practiceCreate",name:"TeacherPracticeCreate",component:Rt},{path:"courseEdit/:id",name:"TeacherCourseEdit",component:ce},{path:"topicEdit/:courseid/:topicid",name:"TeacherTopicEdit",component:wt},{path:"sectionEdit/:courseid/:topicid/:sectionid",name:"TeacherSectionEdit",component:ee},{path:"practiceEdit/:practiceid",name:"TeacherPracticeEdit",component:Rt},{path:"importStudent/:courseid",name:"ImportStudent",component:le}]}]}),he=i("UC6W"),pe=i.n(he),ve=(i("igES"),i("YzUZ")),me=i.n(ve);s.default.use(pe.a),s.default.use(me.a),s.default.use({install:function(t,e){t.prototype.BASEURL="127.0.0.1:80/api"}}),s.default.config.productionTip=!1,new s.default({el:"#app",router:ue,components:{App:n},template:"<App/>"})},Q9rw:function(t,e){},RAMZ:function(t,e){},Rf57:function(t,e){},SeQF:function(t,e){},Sw3q:function(t,e){},UuDO:function(t,e){},VkxS:function(t,e){},W178:function(t,e){},W27c:function(t,e){},WUVE:function(t,e){},WtqY:function(t,e){},YzUZ:function(t,e){t.exports={methods:{getCookie:function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?e[2]:null},setCookie:function(t,e,i){var s=new Date;s.setDate(s.getDate()+i),document.cookie=t+"="+escape(e)+(null==i?"":";expires="+s.toGMTString())},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var i=getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString())}},install:function(t,e){t.prototype.$getCookie=this.methods.getCookie,t.prototype.$setCookie=this.methods.setCookie,t.prototype.$delCookie=this.methods.delCookie}}},cLRk:function(t,e){},e2u3:function(t,e){},gRKV:function(t,e){},gyBB:function(t,e){},hd5j:function(t,e){},igES:function(t,e){},jZ59:function(t,e){},pLFs:function(t,e){},rLvR:function(t,e){},sEWU:function(t,e){},vrXN:function(t,e){},ytRQ:function(t,e){},z6gd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3d42295255cdc5b6dead.js.map